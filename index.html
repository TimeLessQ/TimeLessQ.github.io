<!DOCTYPE html>


<html lang="zh-CN">


<head>
  <meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     TimeLess
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

  
  

  

</head>

</html>

<body>
  <div id="app">
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">TimeLess</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="post-vue-electron打包失败" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/11/13/vue-electron%E6%89%93%E5%8C%85%E5%A4%B1%E8%B4%A5/"
    >vue-electron打包失败</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/11/13/vue-electron%E6%89%93%E5%8C%85%E5%A4%B1%E8%B4%A5/" class="article-date">
  <time datetime="2020-11-13T08:07:45.011Z" itemprop="datePublished">2020-11-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="vue-electron打包失败"><a href="#vue-electron打包失败" class="headerlink" title="vue-electron打包失败"></a>vue-electron打包失败</h1><ul>
<li>vue-electron在执行npm run build 时会因为下载打包文件超市导致打包失败</li>
</ul>
<h3 id="下载winCodeSign2-6-0失败"><a href="#下载winCodeSign2-6-0失败" class="headerlink" title="下载winCodeSign2.6.0失败"></a>下载winCodeSign2.6.0失败</h3><p>   <img src="http://qjq7glq2n.hn-bkt.clouddn.com/1.png?e=1605260564&token=cy-GpYxH1QYhR58Cgn5uwKez4NVJ8500DAqgFE2A:X-cs2rnUrMtCSNzogeRCdwGgaDQ=" alt="winCodeSign2.6.0下载失败"></p>
<ul>
<li>解决方案<ol>
<li>去github上手动下载所需文件<a href="https://github.com/electron-userland/electron-builder-binaries/releases/tag/winCodeSign-2.6.0" target="_blank" rel="noopener">winCodeSign2.6.0下载地址</a></li>
<li>将下载解压后的文件放在(C:\Users\Administrator\AppData\Local\electron-builder\Cache\winCodeSign) 路径下，winCodeSign文件目录可能没有，需要手动创建<br><img src="http://qjq7glq2n.hn-bkt.clouddn.com/4.png?e=1605260564&token=cy-GpYxH1QYhR58Cgn5uwKez4NVJ8500DAqgFE2A:_vEtYfDhpwKKIYLFwNutIIWOsMw=" alt="放置路径"></li>
</ol>
</li>
</ul>
<h3 id="下载nsis-3-0-4-1失败"><a href="#下载nsis-3-0-4-1失败" class="headerlink" title="下载nsis-3.0.4.1失败"></a>下载nsis-3.0.4.1失败</h3><p>  <img src="http://qjq7glq2n.hn-bkt.clouddn.com/2.png?e=1605260564&token=cy-GpYxH1QYhR58Cgn5uwKez4NVJ8500DAqgFE2A:cF6W5r1vgeX5p1AvuuO6d8ucoHg=" alt="nsis-3.0.4.1下载失败"></p>
<ul>
<li>解决方案<ol>
<li>去github上手动下载所需文件<a href="https://github.com/electron-userland/electron-builder-binaries/releases/tag/nsis-3.0.4.1" target="_blank" rel="noopener">winCodeSign2.6.0下载地址</a></li>
<li>将下载解压后的文件放在(C:\Users\Administrator\AppData\Local\electron-builder\Cache\nsis) 路径下，nsis文件目录可能没有，需要手动创建<br><img src="http://qjq7glq2n.hn-bkt.clouddn.com/4.png?e=1605260564&token=cy-GpYxH1QYhR58Cgn5uwKez4NVJ8500DAqgFE2A:_vEtYfDhpwKKIYLFwNutIIWOsMw=" alt="放置路径"></li>
</ol>
</li>
</ul>
<h3 id="下载nsis-3-0-4-1失败-1"><a href="#下载nsis-3-0-4-1失败-1" class="headerlink" title="下载nsis-3.0.4.1失败"></a>下载nsis-3.0.4.1失败</h3><p>  <img src="http://qjq7glq2n.hn-bkt.clouddn.com/3.png?e=1605260564&token=cy-GpYxH1QYhR58Cgn5uwKez4NVJ8500DAqgFE2A:7xK9UxaWLmosgyUergAAnGDlVk8=" alt="nsis-resources-3.4.1下载失败"></p>
<ul>
<li>解决方案<ol>
<li>去github上手动下载所需文件<a href="https://github.com/electron-userland/electron-builder-binaries/releases/tag/nsis-resources-3.4.1" target="_blank" rel="noopener">winCodeSign2.6.0下载地址</a></li>
<li>将下载解压后的文件放在(C:\Users\Administrator\AppData\Local\electron-builder\Cache\nsis) 路径下，nsis文件目录可能没有，需要手动创建<br><img src="http://qjq7glq2n.hn-bkt.clouddn.com/4.png?e=1605260564&token=cy-GpYxH1QYhR58Cgn5uwKez4NVJ8500DAqgFE2A:_vEtYfDhpwKKIYLFwNutIIWOsMw=" alt="放置路径"></li>
</ol>
</li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  
  
  

</article>
    
    <article id="post-uniPush离线推送" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/10/22/uniPush%E7%A6%BB%E7%BA%BF%E6%8E%A8%E9%80%81/"
    >uniPush离线推送</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/10/22/uniPush%E7%A6%BB%E7%BA%BF%E6%8E%A8%E9%80%81/" class="article-date">
  <time datetime="2020-10-22T04:58:23.564Z" itemprop="datePublished">2020-10-22</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="uniPush离线推送-华为-小米"><a href="#uniPush离线推送-华为-小米" class="headerlink" title="uniPush离线推送(华为/小米)"></a>uniPush离线推送(华为/小米)</h1><h2 id="华为"><a href="#华为" class="headerlink" title="华为"></a>华为</h2><ol>
<li><p>前往<a href="https://id1.cloud.huawei.com/AMW/portal/homepage.html" target="_blank" rel="noopener">华为开发者联盟</a>注册账号</p>
</li>
<li><p>注册完成后到前往管理中心=&gt;我的应用 =&gt;新建项目<br><img src="https://img-blog.csdnimg.cn/20200611191742550.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L29iamVjdF9vcmllbnRlZA==,size_16,color_FFFFFF,t_70" alt="图片地址 &#39;&#39;图片title&#39;&#39;"></p>
</li>
<li><p>新建完成后，点击开发进入如下页面<br><img src="https://img-blog.csdnimg.cn/20200611192059700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L29iamVjdF9vcmllbnRlZA==,size_16,color_FFFFFF,t_70" alt="图片alt"></p>
</li>
<li><p>填写包名，这个包名很重要，需要和unipush的包名保持一致。</p>
</li>
<li><p>项目创建完成后需要生成指纹证书文件</p>
<ul>
<li>如果配置了java环境变量就可以直接往下走，如果没有就需要执行cd命令进入keytool.exe所在的目录（java安装目录的bin下）</li>
<li>在命令行输入命令      keytool -genkey -alias testalias -keyalg RSA -keysize 2048 -validity 36500 -keystore  (文件位置)</li>
<li>查看keystore文件,输入命令：keytool -list -v -keystore (文件位置)</li>
</ul>
</li>
<li><p>将生成的SHA256填入如图标记部分。<br><img src="https://img-blog.csdnimg.cn/20200615191318465.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L29iamVjdF9vcmllbnRlZA==,size_16,color_FFFFFF,t_70" alt="图片alt"></p>
</li>
<li><p>项目信息完成后，开通推送服务<br><img src="https://img-blog.csdnimg.cn/20200615191936674.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L29iamVjdF9vcmllbnRlZA==,size_16,color_FFFFFF,t_70" alt="图片alt"><br><img src="https://img-blog.csdnimg.cn/202006151920425.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L29iamVjdF9vcmllbnRlZA==,size_16,color_FFFFFF,t_70" alt="图片alt"></p>
</li>
</ol>
<h2 id="小米"><a href="#小米" class="headerlink" title="小米"></a>小米</h2><ol>
<li>前往小米开发者平台注册账号,开通权限</li>
<li>账号注册完成，就可去到推送运营平台。点击创建应用，创建自己的推送项目，注意报名要与unipush保持一致</li>
<li>点击应用信息就可以拿到，推送需要的应用信息<br><img src="https://img-blog.csdnimg.cn/20200616090314540.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L29iamVjdF9vcmllbnRlZA==,size_16,color_FFFFFF,t_70" alt="图片alt"></li>
</ol>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  
  
  

</article>
    
    <article id="post-base64位图片上传至七牛云" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/09/28/base64%E4%BD%8D%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E8%87%B3%E4%B8%83%E7%89%9B%E4%BA%91/"
    >base64位图片上传至七牛云</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/09/28/base64%E4%BD%8D%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E8%87%B3%E4%B8%83%E7%89%9B%E4%BA%91/" class="article-date">
  <time datetime="2020-09-28T06:31:11.224Z" itemprop="datePublished">2020-09-28</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="base64位图片上传至七牛云"><a href="#base64位图片上传至七牛云" class="headerlink" title="base64位图片上传至七牛云"></a>base64位图片上传至七牛云</h1><ul>
<li>生成token<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#这是利用python生成的token</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> qiniu <span class="keyword">import</span> Auth</span><br><span class="line"><span class="comment">#需要填写你的 Access Key 和 Secret Key</span></span><br><span class="line">access_key = <span class="string">''</span></span><br><span class="line">secret_key = <span class="string">''</span></span><br><span class="line"><span class="comment">#构建鉴权对象</span></span><br><span class="line">q = Auth(access_key, secret_key)</span><br><span class="line"><span class="comment">#要上传的空间</span></span><br><span class="line">bucket_name = <span class="string">''</span></span><br><span class="line"><span class="comment">#上传后保存的文件名</span></span><br><span class="line">key = <span class="string">''</span></span><br><span class="line"><span class="comment">#生成上传 Token，可以指定过期时间等</span></span><br><span class="line"><span class="comment"># 上传策略示例</span></span><br><span class="line"><span class="comment"># https://developer.qiniu.com/kodo/manual/1206/put-policy</span></span><br><span class="line">policy = &#123;</span><br><span class="line"><span class="comment"># 'callbackUrl':'https://requestb.in/1c7q2d31',</span></span><br><span class="line"><span class="comment"># 'callbackBody':'filename=$(fname)&amp;filesize=$(fsize)'</span></span><br><span class="line"><span class="comment"># 'persistentOps':'imageView2/1/w/200/h/200'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#3600为token过期时间，秒为单位。3600等于一小时</span></span><br><span class="line">token = q.upload_token(bucket_name, key, <span class="number">3600</span>, policy)</span><br><span class="line">print(token)</span><br></pre></td></tr></table></figure></li>
<li>获取token <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> getToken() &#123;</span><br><span class="line">    <span class="keyword">this</span>.token = <span class="keyword">await</span> <span class="keyword">this</span>.$u.api.getToken();</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
<li>获取base64地址，计算大小<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fileSize(str) &#123;</span><br><span class="line">    <span class="keyword">let</span> fileSize = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (str.indexOf(<span class="string">'='</span>) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> indexOf = str.indexOf(<span class="string">'='</span>);</span><br><span class="line">        str = str.substring(<span class="number">0</span>, indexOf); <span class="comment">//把末尾的=号去掉</span></span><br><span class="line">    &#125;</span><br><span class="line">    fileSize = <span class="built_in">parseInt</span>(str.length - (str.length / <span class="number">8</span>) * <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> fileSize;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
<li>上传图片至七牛云<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//计算大小时需要去掉base64,之前的部分，包括base4,(注意','也要去掉)</span></span><br><span class="line"><span class="keyword">const</span> file = path.split(<span class="string">'base64,'</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">const</span> fileSize = <span class="keyword">this</span>.fileSize(file)</span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    <span class="comment">//this.uploadURL为上传的七牛云地址，因区域而已(例如：华南空间为=&gt;http://upload.qiniup.com/putb64/)</span></span><br><span class="line">    <span class="comment">//fileSize就是原图字节大小</span></span><br><span class="line">    url: <span class="keyword">this</span>.uploadURL + fileSize,<span class="comment">//"http://upload.qiniup.com/putb64/20264"</span></span><br><span class="line">    type: <span class="string">'POST'</span>,</span><br><span class="line">    <span class="keyword">async</span>: <span class="literal">false</span>,</span><br><span class="line">    beforeSend: <span class="function"><span class="params">request</span> =&gt;</span> &#123;</span><br><span class="line">        request.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/octet-stream'</span>);</span><br><span class="line">        request.setRequestHeader(<span class="string">'Authorization'</span>, <span class="string">"UpToken "</span> + <span class="keyword">this</span>.token);</span><br><span class="line">    &#125;,</span><br><span class="line">    data: file,</span><br><span class="line">    success: <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        this.imgURL为你的七牛云图床存储地址</span></span><br><span class="line"><span class="comment">        data.key是由七牛云随机生成的图片地址</span></span><br><span class="line"><span class="comment">        二者拼接就是完整的图片地址，可直接访问</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">this</span>.form.img_url = <span class="keyword">this</span>.imgURL + data.key</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
注意事项：<ul>
<li>upload.qiniup.com 上传域名适用于华东空间。华北空间使用 upload-z1.qiniup.com，华南空间使用 upload-z2.qiniup.com，北美空间使用 upload-na0.qiniup.com。</li>
<li>this.uploadURL = “<a href="http://upload.qiniup.com/putb64/20264&quot;;这里的" target="_blank" rel="noopener">http://upload.qiniup.com/putb64/20264&quot;;这里的</a> 20264 是图片没经过 base64 处理的原图字节大小。</li>
<li>request.setRequestHeader(‘Authorization’, “UpToken “ + this.token);这里的token就是服务端请求的 token 字符串</li>
</ul>
</li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  
  
  

</article>
    
    <article id="post-uni-app中使用websocket" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/27/uni-app%E4%B8%AD%E4%BD%BF%E7%94%A8websocket/"
    >uni-app中使用websocket</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/27/uni-app%E4%B8%AD%E4%BD%BF%E7%94%A8websocket/" class="article-date">
  <time datetime="2020-05-27T02:48:30.230Z" itemprop="datePublished">2020-05-27</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="uni-app中使用websocket"><a href="#uni-app中使用websocket" class="headerlink" title="uni-app中使用websocket"></a>uni-app中使用websocket</h1><blockquote>
<p>话不多说，直接上代码</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">initWebSocket() &#123;</span><br><span class="line">    <span class="keyword">this</span>.socketTask = uni.connectSocket(&#123;</span><br><span class="line">        url: <span class="string">'ws://127.0.0.1:10115/ws/'</span>,<span class="comment">//websocket连接地址</span></span><br><span class="line">        success(data) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'websocket连接成功'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">this</span>.websocketonopen();</span><br><span class="line">    <span class="keyword">this</span>.websocketonmessage();</span><br><span class="line">    <span class="keyword">this</span>.websocketonerror();</span><br><span class="line">&#125;,</span><br><span class="line">websocketonopen() &#123;</span><br><span class="line">    <span class="keyword">const</span> actions = &#123; <span class="attr">topic</span>: <span class="string">'auth'</span>, <span class="attr">key</span>: <span class="string">'000000000'</span> &#125;;<span class="comment">//初始化验证信息（与后台约定的）</span></span><br><span class="line">    <span class="keyword">this</span>.socketTask.onOpen(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.websocketsend(actions);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">websocketonmessage() &#123;</span><br><span class="line">    <span class="keyword">this</span>.socketTask.onMessage(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">websocketsend(data) &#123;</span><br><span class="line">    <span class="keyword">this</span>.socketTask.send(&#123;</span><br><span class="line">        data: <span class="built_in">JSON</span>.stringify(data),</span><br><span class="line">        success: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'消息发送成功'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">websocketonclose() &#123;</span><br><span class="line">    <span class="keyword">this</span>.socketTask.close(&#123;</span><br><span class="line">        success(res) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'关闭成功'</span>, res);</span><br><span class="line">        &#125;,</span><br><span class="line">        fail(err) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'关闭失败'</span>, err);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br><span class="line">websocketonerror() &#123;</span><br><span class="line">    <span class="keyword">this</span>.socketTask.onError(<span class="function"><span class="params">errMsg</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.initWebSocket();<span class="comment">//断开重连</span></span><br><span class="line">        <span class="built_in">console</span>.log(errMsg);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  
  
  

</article>
    
    <article id="post-hexo如何发表文章" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/08/hexo%E5%A6%82%E4%BD%95%E5%8F%91%E8%A1%A8%E6%96%87%E7%AB%A0/"
    >hexo发表文章教程</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/08/hexo%E5%A6%82%E4%BD%95%E5%8F%91%E8%A1%A8%E6%96%87%E7%AB%A0/" class="article-date">
  <time datetime="2020-05-08T04:35:19.328Z" itemprop="datePublished">2020-05-08</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="hexo发表文章教程"><a href="#hexo发表文章教程" class="headerlink" title="hexo发表文章教程"></a>hexo发表文章教程</h1><ul>
<li><p>选择一个markdown编辑器</p>
<p>例如：Typora(个人觉得很好用)</p>
<p> <a href="https://www.typora.io/" target="_blank" rel="noopener">Typora官网</a> </p>
</li>
<li><p>学会使用makedown写文章（语法很简单，5分钟上手）</p>
      
      <a class="article-more-link" href="/2020/05/08/hexo%E5%A6%82%E4%BD%95%E5%8F%91%E8%A1%A8%E6%96%87%E7%AB%A0/">阅读更多...</a>
      
      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  
  
  

</article>
    
    <article id="post-hello-world" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/06/hello-world/"
    >Hello World</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/06/hello-world/" class="article-date">
  <time datetime="2020-05-06T08:12:08.013Z" itemprop="datePublished">2020-05-06</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p><img src="http://pic1.win4000.com/wallpaper/2020-04-07/5e8c181fd006a.jpg" alt="崩坏3"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  
  
  

</article>
    
  </article>
  

  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2020
        <i class="ri-heart-fill heart_icon"></i> TimeLess
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="TimeLess"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/HTML">HTML</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/CSS">CSS</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/JS">JS</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/VUE">VUE</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/UNIAPP">UNIAPP</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/other">其他</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/img/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Subtitle -->

<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['面朝大海，春暖花开', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
      startDelay: 0,
      typeSpeed: 200,
      loop: true,
      backSpeed: 100,
      showCursor: true
    });
  } catch (err) {
    console.log(err)
  }
</script>

<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->

<!-- ClickLove -->

<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>



    
  </div>
</body>

</html>